<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–†–æ–º–ê—Ä–µ–Ω–¥–∞ ‚Äî –∞—Ä–µ–Ω–¥–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root {--main-yellow:#FFC107;--main-black:#1F1F1F;--light-gray:#F3F3F3;--white:#FFFFFF;}
body{margin:0;font-family:Arial,sans-serif;background:var(--light-gray);color:var(--main-black);}
header{background:var(--main-black);color:var(--white);padding:15px 10px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;}
header .logo-container{display:flex;align-items:center;gap:12px;cursor:pointer;}
header .logo-container img{height:50px;border-radius:6px;object-fit:contain;transition:0.3s;}
header .logo-container img:hover{transform:scale(1.1);}
header .phone{font-size:18px;font-weight:bold;}
nav{background:var(--white);box-shadow:0 2px 4px rgba(0,0,0,0.1);display:flex;justify-content:center;flex-wrap:wrap;gap:10px;padding:10px;}
nav button{padding:8px 12px;border:none;border-radius:6px;background:var(--main-yellow);cursor:pointer;transition:0.3s;font-weight:bold;}
nav button:hover{transform:scale(1.05);}
#categories{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:12px;padding:20px;}
.category-card{background:var(--white);border-radius:10px;padding:12px;text-align:center;box-shadow:0 2px 5px rgba(0,0,0,0.1);cursor:pointer;transition:0.3s;}
.category-card:hover{transform:translateY(-5px);box-shadow:0 6px 12px rgba(0,0,0,0.15);}
.container{padding:20px;}
.section-title{font-size:20px;font-weight:bold;margin-bottom:10px;}
.info-box{background:var(--white);padding:15px;border-radius:10px;box-shadow:0 2px 5px rgba(0,0,0,0.1);margin-bottom:15px;}
#products{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:20px;margin-top:20px;}
.card{background:var(--white);border-radius:12px;box-shadow:0 2px 5px rgba(0,0,0,0.15);padding:10px;display:flex;flex-direction:column;cursor:pointer;overflow:hidden;transition:transform 0.3s;}
.card:hover{transform:translateY(-5px);box-shadow:0 8px 15px rgba(0,0,0,0.2);}
.card img{width:100%;height:180px;object-fit:cover;border-radius:10px;transition:0.3s;}
.card img:hover{transform:scale(1.05);}
.card h3{margin:5px 0;}
.card .price{font-weight:bold;margin:5px 0;}
.card button{padding:8px;border:none;border-radius:6px;background:var(--main-yellow);cursor:pointer;font-weight:bold;transition:0.3s;}
.card button:hover{transform:scale(1.05);box-shadow:0 4px 10px rgba(0,0,0,0.2);}
#orderModal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);justify-content:center;align-items:center;z-index:999;}
#orderForm{background:var(--white);padding:20px;border-radius:12px;width:90%;max-width:400px;box-shadow:0 4px 15px rgba(0,0,0,0.25);}
#orderForm input{width:100%;padding:8px;margin:5px 0;border-radius:6px;border:1px solid #ccc;}
#orderForm button{margin-top:10px;width:100%;padding:10px;background:var(--main-yellow);border:none;border-radius:6px;cursor:pointer;font-weight:bold;transition:0.3s;}
#orderForm button:hover{transform:scale(1.03);}
@media(max-width:600px){.card img{height:150px;} #categories {grid-template-columns: repeat(auto-fill,minmax(120px,1fr));}}
</style>
</head>
<body>

<header>
  <div class="logo-container" onclick="goHome()">
    <img src="logo.png" alt="–†–æ–º–ê—Ä–µ–Ω–¥–∞">
    <span>–†–æ–º–ê—Ä–µ–Ω–¥–∞</span>
  </div>
  <div class="phone">üìû +7 915 277 24 41</div>
</header>

<nav>
  <button onclick="showHome()">–ì–ª–∞–≤–Ω–∞—è</button>
  <button onclick="showSection('catalog')">–ö–∞—Ç–∞–ª–æ–≥</button>
  <button onclick="showSection('rent')">–£—Å–ª–æ–≤–∏—è –∞—Ä–µ–Ω–¥—ã</button>
  <button onclick="showSection('delivery')">–î–æ—Å—Ç–∞–≤–∫–∞</button>
  <button onclick="showSection('contacts')">–ö–æ–Ω—Ç–∞–∫—Ç—ã</button>
</nav>

<div id="home" class="container"><div id="categories"></div></div>
<div id="catalog" class="container" style="display:none;"><div id="products"></div></div>

<div id="rent" class="container" style="display:none;">
  <div class="info-box">
    <div class="section-title">‚úÖ –£—Å–ª–æ–≤–∏—è –∞—Ä–µ–Ω–¥—ã:</div>
    <ul>
      <li>–î–æ–∫—É–º–µ–Ω—Ç—ã –∏ –∑–∞–ª–æ–≥</li>
      <li>–í–æ–∑–≤—Ä–∞—Ç –∏ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ</li>
    </ul>
  </div>
</div>

<div id="delivery" class="container" style="display:none;">
  <div class="info-box"><div class="section-title">‚úÖ –î–û–°–¢–ê–í–ö–ê</div><p>–ü—Ä–∏–≤–µ–∑–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ—Ç 30 –º–∏–Ω—É—Ç!</p></div>
</div>

<div id="contacts" class="container" style="display:none;">
  <div class="info-box"><div class="section-title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</div><p>üìû +7 915 277 24 41<br>‚úâÔ∏è example@mail.ru</p></div>
</div>

<div id="orderModal">
  <div id="orderForm">
    <h3>–ë—ã—Å—Ç—Ä—ã–π –∑–∞–∫–∞–∑</h3>
    <input type="text" id="clientName" placeholder="–í–∞—à–µ –∏–º—è">
    <input type="text" id="clientPhone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω">
    <button onclick="sendOrderTelegram()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑</button>
    <button onclick="closeOrderModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>
</div>

<script>
// --- –ù–∞–≤–∏–≥–∞—Ü–∏—è ---
function showHome(){showSection('home');}
function showSection(id){['home','catalog','rent','delivery','contacts'].forEach(i=>document.getElementById(i).style.display='none');document.getElementById(id).style.display='block';}
function goHome(){showHome(); window.scrollTo(0,0);}

// --- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ ---
const categories = ["–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç","–†—É—á–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç","–°–∞–¥–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞","–°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ"];
const categoriesDiv = document.getElementById("categories");
categories.forEach(cat=>{
  const c=document.createElement("div");
  c.className="category-card";
  c.textContent=cat;
  c.onclick=()=>{filterCategory(cat);}
  categoriesDiv.appendChild(c);
});

// --- Fetch CSV –∏–∑ Google Sheets ---
let products=[];
const sheetURL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTOtUQAhnBMNrCPWFj0u6cjQeb0qWscrovHdCWvuBQMaCCirL4ds3i6NtjqwMpcReNsrhrY_X8ICXOL/pub?gid=210911506&single=true&output=csv";
fetch(sheetURL).then(r=>r.text()).then(csv=>{
  const rows=csv.split('\n').slice(1).map(r=>r.trim()).filter(r=>r!=="");
  products=rows.map(r=>{
    const c=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
    if(!c[0]||!c[1]) return null;
    return {
      cat:c[0].trim(),
      name:c[1].trim(),
      desc:c[2]?c[2].replace(/"/g,''):'–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç',
      img:c[3]?c[3].trim():'https://via.placeholder.com/300x180.png?text=–ù–µ—Ç+–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è',
      p1:c[4]?Number(c[4]):0,
      p2:c[5]?Number(c[5]):0,
      p3:c[6]?Number(c[6]):0,
      p5:c[7]?Number(c[7]):0,
      avail:c[8]?c[8].trim().toLowerCase()==='–¥–∞':false
    };
  }).filter(p=>p!==null);
  renderProducts(products);
});

// --- –†–µ–Ω–¥–µ—Ä —Ç–æ–≤–∞—Ä–æ–≤ ---
function renderProducts(list){
  const cont=document.getElementById("products"); cont.innerHTML='';
  list.forEach(p=>{
    const card=document.createElement("div");
    card.className="card";
    card.innerHTML=`
      <img src="${p.img}" alt="${p.name}">
      <h3>${p.name}</h3>
      <div class="price">1 –¥–µ–Ω—å: ${p.p1} ‚ÇΩ<br>2 –¥–Ω—è: ${p.p2} ‚ÇΩ<br>3 –¥–Ω—è: ${p.p3} ‚ÇΩ<br>–æ—Ç 5 –¥–Ω–µ–π: ${p.p5} ‚ÇΩ</div>
      <button onclick="openOrderModal('${p.name}')">–ê—Ä–µ–Ω–¥–æ–≤–∞—Ç—å</button>
    `;
    cont.appendChild(card);
  });
}

// --- –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ---
function filterCategory(cat){renderProducts(products.filter(p=>p.cat===cat)); showSection('catalog');}

// --- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ ---
function openOrderModal(itemName){document.getElementById("orderModal").style.display="flex"; window.orderItemName=itemName;}
function closeOrderModal(){document.getElementById("orderModal").style.display="none";}

// --- Telegram ---
function sendOrderTelegram(){
  const name=document.getElementById("clientName").value.trim();
  const phone=document.getElementById("clientPhone").value.trim();
  if(!name||!phone){alert("–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏ —Ç–µ–ª–µ—Ñ–æ–Ω");return;}
  const chat_id="–í–ê–®_CHAT_ID"; // –∑–∞–º–µ–Ω–∏—Ç–µ
  const token="–í–ê–®_BOT_TOKEN"; // –∑–∞–º–µ–Ω–∏—Ç–µ
  const text=`–ù–æ–≤–∞—è –∞—Ä–µ–Ω–¥–∞: ${window.orderItemName}%0A–ò–º—è: ${name}%0A–¢–µ–ª–µ—Ñ–æ–Ω: ${phone}`;
  fetch(`https://api.telegram.org/bot${token}/sendMessage?chat_id=${chat_id}&text=${text}`)
    .then(r=>r.json()).then(d=>{if(d.ok){alert("–ó–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!");closeOrderModal();document.getElementById("clientName").value="";document.getElementById("clientPhone").value="";}else alert("–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏");});
}
</script>
</body>
</html>






